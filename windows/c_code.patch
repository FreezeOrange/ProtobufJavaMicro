Index: ../androidsrc/platform/external/protobuf/src/google/protobuf/compiler/javamicro/javamicro_primitive_field.cc
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- ../androidsrc/platform/external/protobuf/src/google/protobuf/compiler/javamicro/javamicro_primitive_field.cc	(revision 51ef8f39de376fe71ce5d2c682abe4f974cf8074)
+++ ../androidsrc/platform/external/protobuf/src/google/protobuf/compiler/javamicro/javamicro_primitive_field.cc	(revision )
@@ -198,8 +198,9 @@
   if (IsReferenceType(GetJavaType(descriptor))) {
     (*variables)["null_check"] =
         "  if (value == null) {\n"
-        "    throw new NullPointerException();\n"
+        //"    throw new NullPointerException();\n"
+        "    return this;\n"
-        "  }\n";
+		"  }\n";
   } else {
     (*variables)["null_check"] = "";
   }
Index: ../androidsrc/platform/external/protobuf/src/google/protobuf/compiler/javamicro/javamicro_message_field.cc
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- ../androidsrc/platform/external/protobuf/src/google/protobuf/compiler/javamicro/javamicro_message_field.cc	(revision 51ef8f39de376fe71ce5d2c682abe4f974cf8074)
+++ ../androidsrc/platform/external/protobuf/src/google/protobuf/compiler/javamicro/javamicro_message_field.cc	(revision )
@@ -89,7 +89,8 @@
     "public $type$ get$capitalized_name$() { return $name$_; }\n"
     "public $message_name$ set$capitalized_name$($type$ value) {\n"
     "  if (value == null) {\n"
-    "    throw new NullPointerException();\n"
+//    "    throw new NullPointerException();\n"
+    "    return clear$capitalized_name$();"
     "  }\n"
     "  has$capitalized_name$ = true;\n"
     "  $name$_ = value;\n"
@@ -172,14 +173,16 @@
       "}\n"
       "public $message_name$ set$capitalized_name$(int index, $type$ value) {\n"
       "  if (value == null) {\n"
-      "    throw new NullPointerException();\n"
+      //"    throw new NullPointerException();\n"
+      "    return this;\n"
       "  }\n"
       "  $name$_.setElementAt(value, index);\n"
       "  return this;\n"
       "}\n"
       "public $message_name$ add$capitalized_name$($type$ value) {\n"
       "  if (value == null) {\n"
-      "    throw new NullPointerException();\n"
+      //"    throw new NullPointerException();\n"
+      "    return this;\n"
       "  }\n"
       "  $name$_.addElement(value);\n"
       "  return this;\n"
@@ -201,14 +204,16 @@
       "}\n"
       "public $message_name$ set$capitalized_name$(int index, $type$ value) {\n"
       "  if (value == null) {\n"
-      "    throw new NullPointerException();\n"
+      //"    throw new NullPointerException();\n"
+      "    return this;\n"
       "  }\n"
       "  $name$_.set(index, value);\n"
       "  return this;\n"
       "}\n"
       "public $message_name$ add$capitalized_name$($type$ value) {\n"
       "  if (value == null) {\n"
-      "    throw new NullPointerException();\n"
+      //"    throw new NullPointerException();\n"
+      "    return this;\n"
       "  }\n"
       "  if ($name$_.isEmpty()) {\n"
       "    $name$_ = new java.util.ArrayList<$type$>();\n"
Index: ../androidsrc/platform/external/protobuf/src/google/protobuf/compiler/javamicro/javamicro_message.cc
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- ../androidsrc/platform/external/protobuf/src/google/protobuf/compiler/javamicro/javamicro_message.cc	(revision 51ef8f39de376fe71ce5d2c682abe4f974cf8074)
+++ ../androidsrc/platform/external/protobuf/src/google/protobuf/compiler/javamicro/javamicro_message.cc	(revision )
@@ -363,12 +363,22 @@
     "  return ($classname$) (new $classname$().mergeFrom(data));\n"
     "}\n"
     "\n"
+	"public static $classname$ parseFrom(byte[] data, int off, int len)\n"
+	"    throws com.google.protobuf.micro.InvalidProtocolBufferMicroException {\n"
+	"  return ($classname$) (new $classname$().mergeFrom(data, off, len));\n"
+	"}\n"
+	"\n"
     "public static $classname$ parseFrom(\n"
     "        com.google.protobuf.micro.CodedInputStreamMicro input)\n"
     "    throws java.io.IOException {\n"
     "  return new $classname$().mergeFrom(input);\n"
+    "}\n"
+    "\n"
+	"public static $classname$ parseFrom(java.io.InputStream inputStream)\n"
+	"    throws java.io.IOException {\n"
+	"  return parseFrom(com.google.protobuf.micro.CodedInputStreamMicro.newInstance(inputStream));\n"
-    "}\n"
-    "\n",
+	"}\n"
+	"\n",
     "classname", descriptor_->name());
 }
 
